(function(t){function e(e){for(var s,r,o=e[0],l=e[1],c=e[2],m=0,u=[];m<o.length;m++)r=o[m],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(u.length)u.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("85ec"),i=a.n(s);i.a},"03e9":function(t,e,a){"use strict";var s=a("7d93"),i=a.n(s);i.a},"054f":function(t,e,a){},"0d3c":function(t,e,a){},"10f8":function(t,e,a){},"1e51":function(t,e,a){"use strict";var s=a("10f8"),i=a.n(s);i.a},"2f19":function(t,e,a){"use strict";var s=a("798b"),i=a.n(s);i.a},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{ref:"headerRef"},[t._m(0),t._m(1)]),a("section",{staticClass:"nes-container",class:{"is-dark":t.darkmode},staticStyle:{"border-width":"0"}},[a("section",{staticClass:"message-list",style:t.myStyles},[t._l(t.messages,(function(e,s){return a("section",{key:s,staticClass:"message",class:{"-left":"agent"===e.author,"-right":"me"===e.author}},[a("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"flex-end"}},["agent"===e.author&&t.showcharacters&&"text"===e.type?a("i",{staticClass:"nes-octocat",class:{animate:t.animate,darkcat:t.darkmode}}):t._e()]),"text"===e.type?a("div",{staticClass:"nes-balloon",class:{"from-left":"agent"===e.author,"from-right":"me"===e.author,"is-dark":t.darkmode}},[a("p",[t._v(t._s(e.content))])]):a("responsewrap",{class:{"is-dark":t.darkmode},attrs:{msg:e,darkmode:t.darkmode,debug:t.debugMode},on:{handleTap:t.tapHandler}}),a("div",["me"===e.author&&t.showcharacters?a("i",{staticClass:"nes-bcrikko"}):t._e()])],1)})),t.thinking?a("thinkingcomponent",{attrs:{darkmode:t.darkmode,animate:t.animate}}):t._e(),t._e()],2)]),a("div",{ref:"footerRef",staticClass:"wrap"},[a("div",{staticClass:"suggestions"},[t.linkoutSuggestion&&t.linkoutSuggestion.url?a("button",{staticClass:"nes-text is-primary",attrs:{href:t.linkoutSuggestion.url,target:"_blank"},on:{click:function(e){return t._openLinkout(t.linkoutSuggestion.url)}}},[t._v(" "+t._s(t.linkoutSuggestion.destinationName)+" ")]):t._e(),t._l(t.permanentSuggestions,(function(e,s){return a("button",{key:s+"_permanent",on:{click:function(a){return t.suggest(e)}}},[t._v(" "+t._s(e)+" ")])})),t._l(t.suggestions,(function(e,s){return a("button",{key:s,on:{click:function(a){return t.suggest(e)}}},[t._v(" "+t._s(e)+" ")])}))],2),a("div",{staticClass:"nes-field is-inline",class:{"is-dark":t.darkmode}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.usermsg,expression:"usermsg"}],ref:"userinput",staticClass:"nes-input",attrs:{type:"text",id:"chat__input",placeholder:"Enter your message"},domProps:{value:t.usermsg},on:{keyup:[function(e){return e.type.indexOf("key")||13===e.keyCode?t.send(t.usermsg):null},function(e){return e.type.indexOf("key")||38===e.keyCode?t.cycler("up"):null},function(e){return e.type.indexOf("key")||40===e.keyCode?t.cycler("down"):null}],input:function(e){e.target.composing||(t.usermsg=e.target.value)}}}),a("button",{staticClass:"nes-btn is-primary",attrs:{type:"button"},on:{click:function(e){return t.send(t.usermsg)}}},[t._v(" SEND ")]),a("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0,animation:"scale"},expression:"{ arrow: true, animation: 'scale' }"}],staticClass:"nes-btn is-primary",attrs:{type:"button",content:t.rowActive?"Tap to collapse":"Tap to expand other config"},on:{click:function(e){t.rowActive=!t.rowActive}}},[t._v(" "+t._s(t.rowActive?"] [":"[]")+" ")]),t.rowActive?a("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0,animation:"scale"},expression:"{ arrow: true, animation: 'scale' }"}],staticClass:"nes-btn is-warning",attrs:{type:"button",content:"Settings for client (backend, darkmode, animation, etc)"},on:{click:function(e){return t.$modal.show("settings-modal")}}},[t._v(" Settings ")]):t._e(),t.rowActive?a("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0,animation:"scale"},expression:"{ arrow: true, animation: 'scale' }"}],staticClass:"nes-btn is-warning",attrs:{type:"button",content:"Adjust API parameters, change personas, edit question/answer samples & priming phrases"},on:{click:function(e){return t.$modal.show("primer-modal")}}},[t._v(" Personas/Primers ")]):t._e()])]),a("modal",{attrs:{name:"settings-modal",adaptive:!0,draggable:!0,resizable:!0,transition:"scale",width:"80%",height:"60%"}},[a("div",{staticClass:"hacky__close",class:{"is-dark":t.darkmode},on:{click:function(e){return t.$modal.hide("settings-modal")}}},[a("i",{staticClass:"nes-icon close is-small"})]),a("div",{staticClass:"nes-dialog",class:{"is-dark":t.darkmode},attrs:{id:"dialog-default"}},[a("form",{staticClass:"settings nes-container with-title",class:{"is-dark":t.darkmode},attrs:{method:"dialog"}},[a("h3",{staticClass:"title"},[t._v("Settings")]),a("div",[t._v(" Dark mode "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.darkmode,expression:"darkmode"}],staticClass:"nes-radio",class:{"is-dark":t.darkmode},attrs:{type:"radio",name:"answer"},domProps:{value:!0,checked:t._q(t.darkmode,!0)},on:{change:function(e){t.darkmode=!0}}}),a("span",[t._v("Yes")])]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.darkmode,expression:"darkmode"}],staticClass:"nes-radio",class:{"is-dark":t.darkmode},attrs:{type:"radio",name:"answer"},domProps:{value:!1,checked:t._q(t.darkmode,!1)},on:{change:function(e){t.darkmode=!1}}}),a("span",[t._v("No")])])]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.showcharacters,expression:"showcharacters"}],staticClass:"nes-checkbox",class:{"is-dark":t.darkmode},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.showcharacters)?t._i(t.showcharacters,null)>-1:t.showcharacters},on:{change:function(e){var a=t.showcharacters,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=null,r=t._i(a,n);s.checked?r<0&&(t.showcharacters=a.concat([n])):r>-1&&(t.showcharacters=a.slice(0,r).concat(a.slice(r+1)))}else t.showcharacters=i}}}),a("span",[t._v("Show Avatars in Chat ")])]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.animate,expression:"animate"}],staticClass:"nes-checkbox",class:{"is-dark":t.darkmode},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.animate)?t._i(t.animate,null)>-1:t.animate},on:{change:function(e){var a=t.animate,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=null,r=t._i(a,n);s.checked?r<0&&(t.animate=a.concat([n])):r>-1&&(t.animate=a.slice(0,r).concat(a.slice(r+1)))}else t.animate=i}}}),a("span",[t._v("Animate/Shimmer")])]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.scrollToBottom,expression:"scrollToBottom"}],staticClass:"nes-checkbox",class:{"is-dark":t.darkmode},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.scrollToBottom)?t._i(t.scrollToBottom,null)>-1:t.scrollToBottom},on:{change:function(e){var a=t.scrollToBottom,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=null,r=t._i(a,n);s.checked?r<0&&(t.scrollToBottom=a.concat([n])):r>-1&&(t.scrollToBottom=a.slice(0,r).concat(a.slice(r+1)))}else t.scrollToBottom=i}}}),a("span",[t._v("Scroll to bottom")])]),a("div",{staticClass:"nes-field is-inline"},[a("label",{attrs:{for:"inline_field"}},[t._v("Backend")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.backend,expression:"backend"}],staticClass:"nes-input",attrs:{type:"text",placeholder:"http://locahost:8000/chat"},domProps:{value:t.backend},on:{input:function(e){e.target.composing||(t.backend=e.target.value)}}})]),a("menu",{staticClass:"dialog-menu"},[a("button",{staticClass:"nes-btn is-primary",on:{click:t.saveSettings}},[t._v(" Save ")]),a("button",{staticClass:"nes-btn is-primary",on:{click:t.saveDefaults}},[t._v(" Reset Default ")]),a("button",{staticClass:"nes-btn is-primary",on:{click:function(e){t.suggestions=[]}}},[t._v(" Clear Suggestions ")])])])])]),a("modal",{attrs:{name:"primer-modal",adaptive:!0,draggable:!0,resizable:!0,width:"80%",height:"85%"}},[a("div",{staticClass:"hacky__close",class:{"is-dark":t.darkmode},on:{click:function(e){return t.$modal.hide("primer-modal")}}},[a("i",{staticClass:"nes-icon close is-small"})]),a("request",{attrs:{defaultAPIFlags:t.defaultAPIFlags,personaKey:t.personaKey,activePersona:t.activePersona,personas:t.personas,client:t.client,requestActive:t.requestActive,grpc:t.grpc,darkmode:t.darkmode,animate:t.animate,defaultSession:t.session},on:{importPersonas:t.importPersonas,updateAPIConfig:t.updateAPIConfig,updatePersona:t.updatePersona,removeSample:t.removeSample,addSample:t.addSample,editSample:t.editSample,boom:t.requestHandler}})],1)],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"https://github.com/valgaze/gpt3-chat",target:"_blank"}},[a("h2",[t._v("GPT3Chat")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"https://github.com/valgaze/gpt3rocket",target:"_blank"}},[a("h2",[t._v("GPT3Rocket🚀")])])}],r=a("bc3a"),o=a.n(r);class l{constructor(t){this.backend=t.backend,this.axiosInst=o.a.create({baseURL:this.backend})}async send(t){const e={method:"POST",data:t};let a=await this.axiosInst(e).catch(t=>{throw new Error(t)});return a}updateBackend(t){t&&(this.backend=t,this.axiosInst=o.a.create({baseURL:this.backend}))}buildSession(){const t=()=>String(Math.random()).slice(2);return`${t()}--${t()}`}}var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"nes-container with-title",class:{"is-dark":t.darkmode}},[a("span",{staticClass:"title"},[t._v(t._s(t.data.title))]),a("div",{staticClass:"subtitle"},[t._v(t._s(t.data.subtitle))]),t.image_url?a("img",{staticClass:"card-image",attrs:{src:t.image_url,alt:t.image_alttext}}):t._e(),t.data.formattedText?a("div",{staticClass:"text",staticStyle:{"text-align":"left"},domProps:{innerHTML:t._s(t.markdownify(t.data.formattedText))}}):t.data.text?a("div",{staticClass:"text",staticStyle:{"text-align":"left"},domProps:{innerHTML:t._s(t.markdownify(t.data.text))}}):t._e(),t._t("default")],2)},d=[],m=a("339e"),u=a.n(m),h={name:"card",data(){return{showdownRef:new u.a.Converter}},methods:{markdownify(t=""){return this.showdownRef?this.showdownRef.makeHtml(t):t}},mounted(){},props:{data:Object,image_url:String,image_alttext:String,darkmode:Boolean}},p=h,g=(a("a690"),a("2877")),f=Object(g["a"])(p,c,d,!1,null,"032e9d1c",null),v=f.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"message"},[a("div",{staticClass:"nes-balloon",class:{"is-dark":t.darkmode}},[a("p",[t._v(t._s(t.active))])])])},b=[],k={name:"thinking",beforeDestroy(){this.ref&&clearInterval(this.ref)},mounted(){this.animate?this.animateFunc():this.active=this.msg},data(){return{ref:null,active:"",pointer:0,max:null,config:{tick:1}}},methods:{stop(){clearInterval(this.ref)},animateFunc(){this.max||(this.max=this.msg.length),this.ref=setInterval(()=>{this.pointer>=this.max&&(this.pointer=0),this.active=this.msg.substring(0,this.pointer+1),this.pointer=this.pointer+1},1e3*this.config.tick)}},watch:{animate:function(t){t?this.animateFunc():(this.stop(),this.active=this.msg)}},props:{msg:{type:String,default:()=>"..."},darkmode:{type:Boolean,default:()=>!1},animate:{type:Boolean,default:()=>!0}}},w=k,_=Object(g["a"])(w,y,b,!1,null,"79328d49",null),S=_.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"nes-dialog",class:{"is-dark":t.darkmode},attrs:{id:"dialog-settings"}},[a("button",{staticClass:"nes-btn is-success",attrs:{type:"button"},on:{click:function(e){return t.$modal.show("export-modal")}}},[t._v(" Export ")]),a("label",{staticClass:"nes-btn"},[a("span",[t._v("Import")]),a("input",{attrs:{type:"file",accept:"application/JSON"},on:{change:t.importPersonas}})]),a("label",[a("button",{staticClass:"nes-btn is-warning",attrs:{type:"button"},on:{click:function(e){t.apiActive=!t.apiActive}}},[t._v(" "+t._s(t.apiActive?"Back to Personas":"Configure API >")+" ")])]),t.apiActive?a("div",[a("div",{staticClass:"nes-container with-title",class:{"is-dark":t.darkmode}},[a("h3",{staticClass:"title"},[t._v("API Config")]),a("div",{staticClass:"nes-field is-inline separator"},[a("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0,animation:t.animate?"scale":null},expression:"{ arrow: true, animation: animate ? 'scale' : null }"}],attrs:{for:"inline_field",content:"Quote object keys"}},[t._v("Note: Config needs to be valid JSON (quote keys, no trailing commas) ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.beer,expression:"beer"}],ref:"apiconfigref",staticClass:"nes-textarea",attrs:{placeholder:"",rows:"5"},domProps:{value:t.beer},on:{input:function(e){e.target.composing||(t.beer=e.target.value)}}})]),a("div",{staticStyle:{width:"100%",display:"flex","justify-content":"flex-end"}},[a("button",{staticClass:"nes-btn is-success",attrs:{type:"button"},on:{click:t.updateAPIConfig}},[t._v(" Save Changes ")])])]),a("div",{staticClass:"nes-container with-title",class:{"is-dark":t.darkmode}},[a("h3",{staticClass:"title"},[t._v("API Flags")]),a("div",{staticClass:"nes-table-responsive"},[a("table",{staticClass:"nes-table is-bordered is-centered",class:{"is-dark":t.darkmode}},[t._m(0),a("tbody",t._l(t.APIFlagDocs,(function(e,s){return a("tr",{key:s,class:{"is-dark":t.darkmode}},[a("td",[t._v(t._s(e.item))]),a("td",[t._v(t._s(e.example))]),a("td",[t._v(" "+t._s(e.remarks)+" ")])])})),0)])])])]):a("form",{staticClass:"settings",attrs:{method:"dialog",name:"builder"}},[a("p",{staticClass:"title"},[t._v("Priming Tools (select a persona below)")]),a("div",{staticClass:"nes-container with-title",class:{"is-dark":t.darkmode}},[a("p",{staticClass:"title"},[t._v("Personas (select from below)")]),t._l(t.personas,(function(e,s,i){return a("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0,animation:t.animate?"scale":null},expression:"{ arrow: true, animation: animate ? 'scale' : null }"}],key:i,attrs:{content:e.meta?e.meta.description:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tab,expression:"tab"}],staticClass:"nes-radio",class:{"is-dark":t.darkmode},attrs:{type:"radio",name:"answer"},domProps:{value:s,checked:t._q(t.tab,s)},on:{change:function(e){t.tab=s}}}),a("span",[t._v(t._s(e.meta?e.meta.name:"[No Name]"))])])}))],2),a("div",{staticClass:"nes-container with-title",class:{"is-dark":t.darkmode}},[a("h3",{staticClass:"title"},[t._v("Priming")]),a("div",{staticClass:"nes-field is-inline separator"},[a("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0,animation:t.animate?"scale":null},expression:"{ arrow: true, animation: animate ? 'scale' : null }"}],attrs:{for:"inline_field",content:"A sentence or two to describe the agent's personality, maybe a name, etc)"}},[t._v("Priming Statement")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.activePersona.prefix,expression:"activePersona.prefix"}],ref:"requestDataRef",staticClass:"nes-textarea",attrs:{placeholder:"The following is a conversation between a human and a helpful agent. The agent is kind, clever blah blah",rows:"5"},domProps:{value:t.activePersona.prefix},on:{change:t.updatePrimer,input:function(e){e.target.composing||t.$set(t.activePersona,"prefix",e.target.value)}}})])]),a("div",{staticClass:"nes-container with-title",class:{"is-dark":t.darkmode}},[a("h3",{staticClass:"title"},[t._v("Samples")]),a("div",{staticStyle:{width:"100%",display:"flex","justify-content":"flex-start"}},[a("button",{staticClass:"nes-btn is-success",attrs:{type:"button"},on:{click:t.startAddSample}},[t._v(" Add ")])]),a("div",{staticClass:"nes-table-responsive"},[a("table",{staticClass:"nes-table is-bordered is-centered",class:{"is-dark":t.darkmode}},[t._m(1),a("tbody",t._l(t.activePersona.samples,(function(e,s){return a("tr",{key:s,class:{"is-dark":t.darkmode}},[a("td",[t._v(t._s(e[0]))]),a("td",[t._v(t._s(e[1]))]),a("td",[a("button",{staticClass:"nes-btn is-success",attrs:{type:"button"},on:{click:function(e){return t.startEditor(s)}}},[t._v(" Edit ")])]),a("td",[a("button",{staticClass:"nes-btn is-error",attrs:{type:"button"},on:{click:function(e){return t.removeSample(s)}}},[t._v(" X ")])])])})),0)])])])])]),a("modal",{class:{"is-dark":t.darkmode},attrs:{name:"export-modal",adaptive:!0,draggable:!0,resizable:!0,width:"60%",height:"50%"}},[a("div",{staticClass:"nes-container with-title sample-modal",class:{"is-dark":t.darkmode}},[a("div",{staticClass:"hacky__close",class:{"is-dark":t.darkmode},on:{click:function(e){return t.$modal.hide("export-modal")}}},[a("i",{staticClass:"nes-icon close is-small"})]),a("h1",[t._v("Exported Personas")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.exportPersonas,expression:"exportPersonas"}],staticClass:"nes-textarea",attrs:{placeholder:"",rows:"8"},domProps:{value:t.exportPersonas},on:{input:function(e){e.target.composing||(t.exportPersonas=e.target.value)}}})])]),a("modal",{class:{"is-dark":t.darkmode},attrs:{name:"sample-modal",adaptive:!0,draggable:!0,resizable:!0,width:"60%",height:"80%"}},[a("div",{staticClass:"nes-container with-title sample-modal",class:{"is-dark":t.darkmode}},[a("h3",{staticClass:"title"},[t._v("Sample")]),a("div",{staticClass:"nes-field is-inline"},[a("label",{attrs:{for:"inline_field"}},[t._v("Input")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newInput,expression:"newInput"}],staticClass:"nes-input",attrs:{type:"text",placeholder:"input sample here"},domProps:{value:t.newInput},on:{input:function(e){e.target.composing||(t.newInput=e.target.value)}}})]),a("div",{staticClass:"nes-field is-inline"},[a("label",{attrs:{for:"inline_field"}},[t._v("Output")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newOutput,expression:"newOutput"}],staticClass:"nes-input",attrs:{type:"text",placeholder:"output sample here"},domProps:{value:t.newOutput},on:{input:function(e){e.target.composing||(t.newOutput=e.target.value)}}})]),t._v(" If you need ideas/inspiration, see below: "),a("ul",{staticStyle:{"text-align":"left"}},[a("li",[a("a",{attrs:{href:"https://github.com/martonlanga/gpt3-prompts",_target:"blank"}},[t._v("https://github.com/martonlanga/gpt3-prompts")])]),a("li",[a("a",{attrs:{href:"https://gpt3examples.com"}},[t._v("https://gpt3examples.com")])])])]),a("div",{staticStyle:{display:"flex","justify-content":"flex-end",width:"100%"}},[a("button",{staticClass:"nes-btn is-error",attrs:{type:"button"},on:{click:function(e){return t.$modal.hide("sample-modal")}}},[t._v(" Cancel ")]),t.addSampleFlag?a("button",{staticClass:"nes-btn is-success",attrs:{type:"button"},on:{click:t.addSample}},[t._v(" Add ")]):a("button",{staticClass:"nes-btn is-success",attrs:{type:"button"},on:{click:t.editSample}},[t._v(" Save ")])])])],1)},C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Input")]),a("th",[t._v("Output")]),a("th",[t._v("Edit")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Input")]),a("th",[t._v("Output")]),a("th",[t._v("Edit")]),a("th",[t._v("Remove")])])])}];const A='{\n\t"session": "1234567890987",\n\t"queryInput": {\n\t\t"text": {\n\t\t\t"text": "yes",\n\t\t\t"languageCode": "en-us"\n\t\t}\n\t},\n\t"queryParams": {\n\t\t"payload": {}\n\t}\n}';var P={name:"request",mounted(){this.tab=this.personaKey},computed:{exportPersonas(){return JSON.stringify(this.personas)}},watch:{apiActive(t){t&&(this.activePersona.APIFlags?this.beer=JSON.stringify(this.activePersona.APIFlags):this.beer=JSON.stringify(this.defaultAPIFlags))},beer(t){this.verifyJSON(t,this.$refs.apiconfigref)},tab:{immediate:!0,handler:function(t){this.updatePersona(t)}},codeActive(){},eventParameters(t){this.enforceStrictJSON&&this.verifyJSON(t,this.$refs.eventParametersRef)},grpc(t){this.transformgrpc=Boolean(t)},transformgrpc(t,e){t!==e&&(this.requestBlock=JSON.stringify(this.buildReq(),void 0,4))},defaultSession(t){t&&(this.session=t)},isEvent(t){"no"===t?(this.eventActive=!1,this.textActive=!0):this.eventActive=!0},selectedCode:{immediate:!0,handler:function(t){this.activeLanguage=t}}},data(){return{beer:JSON.stringify({a:1,b:2}),apiActive:!1,addSampleFlag:!1,newInput:"",newOutput:"",prefix:"",primingStatement:"",activeSamples:[],tab:"default",enforceStrictJSON:!0,textActive:!1,eventName:"",eventParameters:JSON.stringify({a:1,b:2}),requestData:JSON.stringify({a:1,b:2}),textMessage:"",activeLanguage:this.selectedCode,eventActive:!1,isEvent:"no",transformgrpc:this.grpc,codeActive:!1,requestBlock:A,session:this.defaultSession,APIFlagDocs:[{item:"engine",example:"davinci",remarks:"Engine id (there are 4 main engines ada/babbage/curie/davinci vary by latency/performance)"},{item:"max_tokens",example:"20",remarks:"How many tokens (words or portions of words) to return in a completion, max of 512"},{item:"temperature",example:"0.5",remarks:"0-1, 0 means more predictable and more to 1 is more random"},{item:"top_p",example:"//",remarks:"0-1, represents a percentage threshold for values it will accept. Use this OR temperature"},{item:"n",example:"//",remarks:"Number of choices to create for each prompt"},{item:"stream",example:"//",remarks:"True/false"},{item:"logprobs",example:"//",remarks:"Return n most likely tokens"},{item:"stop",example:"\n",remarks:"Stopping character"}]}},methods:{importPersonas(t){var e=t.target,a=new FileReader;a.onload=function(){try{const t=JSON.parse(a.result);this.$emit("importPersonas",{newPersonas:t})}catch(t){alert("Error parsing file, make sure it is valid JSON (keys quoted, no trailing commas "+JSON.stringify(t))}}.bind(this),a.readAsText(e.files[0])},updateAPIConfig(){try{const t=JSON.parse(this.beer);this.$emit("updateAPIConfig",{APIFlags:t})}catch(t){console.error(t)}},startAddSample(){this.newInput="",this.newOutput="",this.addSampleFlag=!0,this.$modal.show("sample-modal")},startEditor(t){this.addSampleFlag=!1;const[e,a]=this.activePersona.samples[t];this.newInput=e,this.newOutput=a,this.activeSampleIndex=t,this.$modal.show("sample-modal")},updatePrimer(){console.log("Fire",Math.random())},updatePersona(){this.$emit("updatePersona",{personaKey:this.tab})},removeSample(t){this.$emit("removeSample",{personaKey:this.tab,index:t})},editSample(){this.$modal.hide("sample-modal");const t=[this.newInput,this.newOutput];this.$emit("editSample",{personaKey:this.tab,sample:t,index:this.activeSampleIndex}),this.activeSampleIndex="",this.newInput="",this.newOutput=""},addSample(){const t=this.newInput,e=this.newOutput;if(t&&e){const a=[t,e];this.$emit("addSample",{sample:a}),this.$modal.hide("sample-modal")}},send(){const t=this.buildReq();this.$emit("boom",{request:t})},verifyJSON(t,e){let a="",s="";try{s=JSON.parse(t)}catch(o){a=JSON.stringify(o.message);var i=e;if(a.indexOf("position")>-1){var n=a.lastIndexOf("position")+8,r=parseInt(a.substr(n,a.lastIndexOf('"')));r>=0&&i.setSelectionRange(r,r+1)}return""}return JSON.stringify(s,null,2)},_json2proto(t){return t},genSession(){this.session=String(Math.random()).slice(2)},_buildEvent(){const t={kind:"event",content:{name:this.eventName,parameters:this.eventParameters?JSON.parse(this.eventParameters):{},languageCode:this.activeLanguage},requestData:this.requestData?JSON.parse(this.requestData):{},flags:{transformgrpc:this.transformgrpc}};return t},_buildTxt(){const t={kind:"text",content:this.textMessage,requestData:this.requestData?JSON.parse(this.requestData):{},flags:{transformgrpc:this.transformgrpc}};return t},buildReq(){let t={};return t=this.eventActive?this.client.buildRequest(this._buildEvent()):this.client.buildRequest(this._buildTxt()),t},copy(){const t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);t?(alert("There's some bug affecting only safari when switching elements in a modal. Just select all on the next prompt"),prompt("Select all to copy/paste request data",JSON.stringify(this.buildReq(),void 0,4))):(this.codeActive=!0,this.requestBlock=JSON.stringify(this.buildReq(),void 0,4))}},props:{defaultAPIFlags:{type:Object,default:()=>({max_tokens:20,temperature:.3,stop:"\n"})},personaKey:{type:String},activePersona:{type:Object},personas:{type:Object},client:{},selectedCode:{type:String,default:()=>"en-US"},defaultSession:{type:String},msg:{type:String,default:()=>"DF-CHEATCODES"},darkmode:{type:Boolean,default:()=>!1},animate:{type:Boolean,default:()=>!0},grpc:{type:Boolean,default:()=>!0},languageCodes:{type:Array,default:()=>["zh-HK","zh-CN","zh-TW","da","nl","en","en-AU","en-CA","en-GB","en-IN","en-US","fr","fr-CA","fr-FR","de","hi","id","it","ja","ko","no","pl","pt-BR","pt","ru","es","es-419","es-ES","sv","th","tr","uk"]}}},O=P,T=(a("fa9f"),Object(g["a"])(O,x,C,!1,null,"98315bfe",null)),I=T.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{darkmode:t.darkmode},style:{width:"100%"}},["basicCard"===t.msg.type?a("card",{attrs:{data:t.msg.content,darkmode:t.darkmode,debug:t.debug,image_url:t.msg.content.image&&t.msg.content.image.url||void 0,image_alttext:t.msg.content.image&&t.msg.content.image.accessibilityText||void 0}},t._l(t.msg.content.buttons,(function(t,e){return a("cardbutton",{key:e+"_button_",attrs:{url:t.openUrlAction&&t.openUrlAction.url,title:t.title}})})),1):t._e(),"tableCard"===t.msg.type?a("table-card",{attrs:{data:t.msg.content,darkmode:t.darkmode,debug:t.debug}}):t._e(),"carouselBrowse"===t.msg.type?a("carousel",{attrs:{data:t.msg.content}},t._l(t.msg.content.items,(function(e,s){return a("carouselcard",{key:s,attrs:{data:{footer:e.footer,subtitle:e.description,title:e.title},image_url:e.image&&e.image.url||void 0,image_alttext:e.image&&e.image.accessibilityText||void 0,darkmode:t.darkmode,debug:t.debug},on:{componentTap:t.handler}})})),1):t._e(),"carouselSelect"===t.msg.type?a("carousel",{attrs:{data:t.msg.content}},[a("carousel_3d",{attrs:{disable3d:!0,space:365,clickable:!1,"controls-visible":!0}},t._l(t.msg.content.items,(function(e,s){return a("carousel_3d_slide",{key:s+"arouselSelect__picker",attrs:{index:s}},[a("carouselcard",{key:s,attrs:{data:{subtitle:e.description,title:e.title},image_url:e.image&&e.image.url||void 0,image_alttext:e.image&&e.image.accessibilityText||void 0,darkmode:t.darkmode,debug:t.debug},on:{componentTap:t.handler}})],1)})),1)],1):t._e(),"listSelect"===t.msg.type?a("carousel",{attrs:{data:t.msg.content}},t._l(t.msg.content.items,(function(e,s){return a("carouselcard",{key:s,attrs:{data:{subtitle:e.description,title:e.title},image_url:e.image&&e.image.url||void 0,image_alttext:e.image&&e.image.accessibilityText||void 0,darkmode:t.darkmode,debug:t.debug},on:{componentTap:t.handler}})})),1):t._e(),"youtube"===t.msg.type?a("div",{staticClass:"nes-container",class:{"is-dark":t.darkmode}},[a("youtube",{attrs:{darkmode:t.darkmode,data:t.msg.content,debug:t.debug}})],1):t._e(),t._isGraph(t.msg.type)?a("graphwrap",{key:"something",attrs:{msg:t.msg,darkmode:t.darkmode},scopedSlots:t._u([{key:"default",fn:function(e){return["piechart"===e.msg.type?a("chartxkcd-pie",{key:e.msg.content.key,attrs:{config:e.msg.content.chartdata}}):t._e(),"linechart"===e.msg.type?a("chartxkcd-line",{key:e.msg.content.key,attrs:{config:e.msg.content.chartdata}}):t._e(),"barchart"===e.msg.type?a("chartxkcd-bar",{key:e.msg.content.key,attrs:{config:e.msg.content.chartdata}}):t._e(),"xychart"===e.msg.type?a("chartxkcd-xy",{key:e.msg.content.key,attrs:{config:e.msg.content.chartdata}}):t._e(),"radarchart"===e.type?a("chartxkcd-radar",{key:e.msg.content.key,attrs:{config:e.msg.content.chartdata}}):t._e()]}}],null,!1,228334990)}):t._e(),"mediaResponse"===t.msg.type?a("div",t._l(t.msg.content.mediaObjects,(function(e,s){return a("mediaResponse",{key:s,attrs:{darkmode:t.darkmode,debug:t.debug,data:e,image_url:e.icon&&e.icon.url||void 0,image_alttext:e.icon&&e.icon.accessibilityText||void 0}})})),1):t._e(),t.debug?a("div",{staticClass:"debug-wrap"},[a("button",{staticClass:"nes-btn is-primary showcode",attrs:{type:"button"},on:{click:function(e){t.showDebug=!t.showDebug}}},[t._v(" "+t._s(t.showDebug?"] [":"[]")+" ")]),t._v(" ("),a("span",{staticClass:"nes-text is-error"},[t._v(t._s(t.showDebug?"hide":"show")+" debug")]),t._v(") "),t.showDebug?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.stringifiedPayload,expression:"stringifiedPayload"}],staticClass:"nes-textarea",attrs:{id:"debug_payload"},domProps:{value:t.stringifiedPayload},on:{input:function(e){e.target.composing||(t.stringifiedPayload=e.target.value)}}}):t._e()]):t._e()],1)},E=[],B=a("3cf7"),R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"nes-btn is-primary",attrs:{href:t.url,type:"button",target:"_blank"}},[t._v(" "+t._s(t.title)+" ")])},H=[],$={data(){return{data:null}},methods:{go(t){t&&alert(t)}},mounted(){},name:"cardbutton",props:{url:String,title:String,buttonStyle:Object}},j=$,D=(a("fcac"),Object(g["a"])(j,R,H,!1,null,"4d45e1ea",null)),q=D.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"nes-container with-title carousel-wrap",class:{"is-dark":t.darkmode}},[t._t("default")],2)},F=[],M={name:"carouselSelect",data(){return{}},methods:{},mounted(){},props:{data:Object,image_url:String,image_alttext:String,darkmode:Boolean}},W=M,J=(a("03e9"),Object(g["a"])(W,L,F,!1,null,"2cb4fb0c",null)),U=J.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"nes-container with-title wrap",class:{"is-dark":t.darkmode},on:{click:t.componentTap}},[a("span",{staticClass:"title"},[t._v(t._s(t.data.title))]),a("div",{staticClass:"subtitle"},[t._v(t._s(t.data.subtitle))]),t.image_url?a("img",{staticClass:"card-image",attrs:{src:t.image_url,alt:t.image_alttext}}):t._e(),t.data.formattedText?a("div",{staticClass:"text",domProps:{innerHTML:t._s(t.markdownify(t.data.formattedText))}}):t.data.text?a("div",{staticClass:"text",domProps:{innerHTML:t._s(t.markdownify(t.data.text))}}):t._e(),t._t("default"),a("div",{staticClass:"footer"},[t._v(t._s(t.data.footer))])],2)},G=[],z={name:"card",mounted(){},data(){return{showdownRef:new u.a.Converter}},methods:{componentTap(){this.$emit("componentTap",{origin:"component",data:this.data.title})}},props:{data:Object,image_url:String,image_alttext:String,darkmode:Boolean}},Y=z,Q=(a("c465"),Object(g["a"])(Y,K,G,!1,null,"7fb46471",null)),V=Q.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"nes-container with-title",class:{"is-dark":t.darkmode}},[a("span",{staticClass:"title"},[t._v(t._s(t.data.name))]),t.image_url?a("img",{staticClass:"card-image",attrs:{src:t.image_url,alt:t.image_alttext}}):t._e(),a("p",[t._v(t._s(t.data.description))]),a("audio",{attrs:{src:t.data.contentUrl,controls:""}})])},Z=[],tt={name:"card",data(){return{showdownRef:new u.a.Converter}},methods:{markdownify(t=""){return this.showdownRef?this.showdownRef.makeHtml(t):t}},mounted(){},props:{data:Object,image_url:String,image_alttext:String,darkmode:Boolean}},et=tt,at=(a("2f19"),Object(g["a"])(et,X,Z,!1,null,"3f560718",null)),st=at.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"nes-container with-title",class:{"is-dark":t.darkmode}},[a("table",{staticClass:"nes-table is-bordered",class:{"is-dark":t.darkmode}},[a("thead",[a("tr",t._l(t.data.columnProperties,(function(e,s){return a("th",{key:s},[t._v(" "+t._s(e.header)+" ")])})),0)]),a("tbody",t._l(t.data.rows,(function(e,s){return a("tr",{key:s},t._l(e.cells,(function(e,s){return a("td",{key:s,domProps:{innerHTML:t._s(t.markdownify(e.text))}})})),0)})),0)])])},nt=[],rt={name:"tablecard",data(){return{showdownRef:new u.a.Converter}},methods:{markdownify(t=""){return this.showdownRef?this.showdownRef.makeHtml(t):t}},mounted(){},props:{data:Object,image_url:String,image_alttext:String,darkmode:Boolean}},ot=rt,lt=(a("1e51"),Object(g["a"])(ot,it,nt,!1,null,"c54cf0ca",null)),ct=lt.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nes-container with-title wrap",class:{"is-dark":t.darkmode}},[a("h3",{staticClass:"title",domProps:{innerHTML:t._s(t.data.text)}}),t.embedURL?a("iframe",{staticClass:"youtube-embed",attrs:{width:"100%",height:"100%",src:t.embedURL,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}):t._e()])},mt=[],ut={data(){return{embedURL:null}},methods:{timestampParser(t=""){const e=String(t).toLowerCase();let a=t;if(e.includes("m")||e.includes("s")){let[t,s]=e.split("m");a=60*Number(t),s=s.split("s")[0],a+=Number(s)}return a},setEmbed(t){let e=t;t.includes("watch?v=")&&(e=t.split("?v=")[1]),t.includes("youtu.be")&&(e=t.split("/")[3]),this.embedURL="https://www.youtube.com/embed/"+e;const a=[];this.data.autoplay&&a.push("autoplay=1"),this.data.start&&a.push("start="+this.timestampParser(this.data.start)),this.data.end&&a.push("end="+this.timestampParser(this.data.end)),a.length&&(a.push("cc_load_policy=1"),this.embedURL=`${this.embedURL}?${a.join("&")}`)}},mounted(){this.setEmbed(this.data.url)},name:"videowrap",props:["data","darkmode"]},ht=ut,pt=(a("f5bf"),Object(g["a"])(ht,dt,mt,!1,null,"41107705",null)),gt=pt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"nes-container with-title",class:{"is-dark":t.darkmode}},[a("span",{staticClass:"title"},[t._v(t._s(t.data.title))]),a("div",{staticClass:"graph-wrap"},[t._t("default",null,{msg:t.msg})],2)])},vt=[],yt={name:"graphwrap",data(){return{chartdata:{}}},watch:{darkmode(t){this.mixMode(t)}},methods:{mixMode(t){let e={};e=t?{backgroundColor:"#000",strokeColor:"#fff"}:{backgroundColor:"red",strokeColor:"#000"};const a={options:Object.assign(this.chartdata.options,e)};this.chartdata=Object.assign(this.chartdata,a)}},mounted(){this.chartdata=this.msg.content.chartdata},props:{msg:{type:Object,default:()=>{}},data:{type:Object,default:()=>({content:{}})},darkmode:Boolean}},bt=yt,kt=(a("5f58"),Object(g["a"])(bt,ft,vt,!1,null,"8983001a",null)),wt=kt.exports,_t=a("423d"),St={components:{carousel_3d:B["Carousel3d"],carousel_3d_slide:B["Slide"],"chartxkcd-line":_t["b"],"chartxkcd-bar":_t["a"],"chartxkcd-xy":_t["e"],"chartxkcd-pie":_t["c"],"chartxkcd-radar":_t["d"],card:v,cardbutton:q,carousel:U,carouselcard:V,graphwrap:wt,mediaResponse:st,tableCard:ct,youtube:gt},name:"responsewrap",mounted(){this.stringifiedPayload=JSON.stringify(this.msg)},data(){return{stringifiedPayload:null,showDebug:!1}},methods:{_isGraph(t=""){const e=["linechart","barchart","piechart","xychart","radarchart","stackedbarchar"];return e.includes(t.toLowerCase())},handler(t){this.$emit("handleTap",t)}},watch:{},props:{debug:{type:Boolean,default:()=>!1},msg:{type:Object,default:()=>{}},darkmode:{type:Boolean,default:()=>!1},animate:{type:Boolean,default:()=>!0}}},xt=St,Ct=(a("e2ce"),Object(g["a"])(xt,N,E,!1,null,"0706b570",null)),At=Ct.exports,Pt={default:{samples:[["What's your best advice?","Whatever you are, be a good one"],["How did you feel when you lost an election?","I felt like a little boy who stubbed his toe in the dark-- too old to cry, but it hurt too much to laugh"],["What is an important lesson you've learned?","Nearly all men can stand adversity, but if you want to test a man’s character, give him power."]],prefix:"This is conversation with Abraham Lincoln. Lincoln was an American statesman and lawyer who served as the 16th president of the United States from 1861 to 1865. Lincoln led the nation through its greatest moral, constitutional, and political crisis in the American Civil War. He succeeded in preserving the Union, abolishing slavery, bolstering the federal government, and modernizing the U.S. economy. Lincoln was born into poverty in a log cabin and was raised on the frontier primarily in Indiana. He sought to reconcile the war-torn nation by exonerating the secessionists. On April 14, 1865, just days after the war's end at Appomattox, Lincoln was attending the play Our American Cousin at Ford's Theatre with his wife Mary when he was assassinated by Confederate sympathizer John Wilkes Booth. Lincoln is remembered as the United States' martyr hero, and he is consistently ranked as the greatest U.S. president in history.",meta:{name:"Default",description:'A "starter" agent named Abraham Lincoln'},APIFlags:{temperature:.5}},wildman:{samples:[["What is 4+4?","THAT QUESTION IS TOO SMALL! You need to think bigger. What's (4+4+4+4)? It's 16. THINK BIGGER"],["What is the capital of India?","THAT QUESTION IS TOO SMALL! THINK BIGGER: what is the capital of all the capitals??"],["What is the biggest room in the universe?","Great question-- the biggest room in the univrese is the room for improvement"],["How do I build a house on the moon??","Great question-- get a spaceship, some space nails and build your dream moon house"],["Who said runs the NBA?","THAT QUESTION IS TOO SMALL! THINK BIGGER: Who is the commissioner of all the commisioners?"]],prefix:"This is a conversation with a wild AI. If a question is too small, the agent will try to make it bigger",meta:{name:"Wildman",description:"This is VERY creative & outragoues agent."},APIFlags:{temperature:.9}},adlai:{samples:[["Why is there a hole in your shoe?","Well, it's better to have a hole in your shoe than a hole in your head!"],["How are things going generally?","The human race has improved everything but the human race"],["Do you have any tips about people?","You can tell the size of a man by the size of the thing that makes him mad"],["What's the difference between a politician and a statesman?","A politician is a statesman who approaches every question with an open mouth"]],prefix:"This is a conversation with Adlai Stevenson. Adlai Ewing Stevenson II was an American lawyer, politician, and diplomat. Raised in Bloomington, Illinois, Stevenson was a member of the Democratic Party.[1] He served in numerous positions in the federal government during the 1930s and 1940s, including the Agricultural Adjustment Administration, Federal Alcohol Administration, Department of the Navy, and the State Department. In 1945, he served on the committee that created the United Nations, and he was a member of the initial U.S. delegations to the UN. He was the 31st governor of Illinois from 1949 to 1953, and he won the Democratic Party's nomination for president in the 1952 and 1956 elections. In both the 1952 and 1956 elections, Stevenson was defeated in landslides by Republican Dwight D. Eisenhower. He unsuccessfully sought the Democratic presidential nomination for a third time at the 1960 Democratic National Convention. After President John F. Kennedy's election, he appointed Stevenson as the United States Ambassador to the United Nations.",meta:{name:"Adlai",description:"Adlai Stevenson is a witty diplomat, lawyer, politician, twice-failed Presidential candidate, "},APIFlags:{temperature:.6}},connie:{samples:[["What's your goal in life?","I want to make sure our poorest kids also reach the mountaintop that Martin Luther King Jr glimpsed right before he died — and to sound the alarm that the final cost of their chronic destitution would be our own destruction"],["How should somebody ","Mentorship is key, think big, ask for what you want, seek out power, understand your own power, come out of the shadows, don’t cut off any opportunities, look at the whole world, get out of the couch and out of the house."],["Why did you file so many lawsuits?","I’ve been suing my friends for twenty years. But even when you know the people in power, you still have to be a burr under their saddle and demand change, because power concedes nothing without a demand"]],prefix:"The following is a conversation with Connie Rice. Connie is a prominent American civil rights activist and lawyer. She is also the co-founder and co-director of the Advancement Project in Los Angeles. She has received more than 50 major awards for her work in expanding opportunity and advancing multi-racial democracy. She is a second cousin of former US Secretary of State Condoleezza Rice.",meta:{name:"Connie",description:"Connie Rice is a civil rights lawyer and activist-- she also knows how to negotiate truces between gangs"},APIFlags:{temperature:.6,max_tokens:80}},monty:{samples:[["How do you lead an army?","“Leadership is the capacity and will to rally men and women to a common purpose and the character which inspires confidence."],["What forces influenced your decisions in life?","Throughout my life and conduct my criterion has been not the approval of others nor of the world; it has been my inward convictions, my duty and my conscience"],["Do you have tips or advice about military matters?",'Rule 1, on page 1 of the book of war, is: "Do not march on Moscow". Various people have tried it, Napoleon and Hitler, and it is no good. That is the first rule. I do not know whether your Lordships will know Rule 2 of war. It is: "Do not go fighting with your land armies in China". It is a vast country, with no clearly defined objectives']],prefix:"TMonty was a senior British Army officer who served in both the First World War and the Second World War. Montgomery first saw action in the First World War as a junior officer of the Royal Warwickshire Regiment. At Méteren, near the Belgian border at Bailleul, he was shot through the right lung by a sniper, during the First Battle of Ypres. On returning to the Western Front as a general staff officer, he took part in the Battle of Arras in April/May 1917. He also took part in the Battle of Passchendaele in late 1917 before finishing the war as chief of staff of the 47th (2nd London) Division. In the inter-war years he commanded the 17th (Service) Battalion, Royal Fusiliers and, later, the 1st Battalion, Royal Warwickshire Regiment before becoming commander of 9th Infantry Brigade and then General officer commanding (GOC) 8th Infantry Division. During the Western Desert campaign of the Second World War, Montgomery commanded the British Eighth Army from August 1942, through the Second Battle of El Alamein and on to the final Allied victory in Tunisia in May 1943. He subsequently commanded the British Eighth Army during the Allied invasion of Sicily and the Allied invasion of Italy and was in command of all Allied ground forces during the Battle of Normandy (Operation Overlord), from D-Day on 6 June 1944 until 1 September 1944. He then continued in command of the 21st Army Group for the rest of the North West Europe campaign, including the failed attempt to cross the Rhine during Operation Market Garden.",meta:{name:"Monty",description:"Field Marshal Bernard Law Montgomery or 'Monty' was a British Army officer who served in both the 1st and 2nd World Wars, he's perhaps best remembered for his battles in North Africa"},APIFlags:{temperature:.6,max_tokens:80}}};const Ot={backend:"/chat"},Tt=new l(Ot),It=["Who are you?","What's your best advice?"];var Nt={name:"App",components:{card:v,Thinkingcomponent:S,request:I,responsewrap:At},destroyed(){window.removeEventListener("resize",this.setHeights)},mounted(){if(this.activePersona=this.personas[this.personaKey],this.loadSettings&&this.loadSettingsFromStorage&&this.loadSettings(),this.setHeights(),window.addEventListener("resize",this.setHeights),this.$refs.userinput.focus(),this.grabFlags(),this.session=this.client.buildSession(),this.triggerShortcut)try{const t=JSON.parse(this.triggerShortcut),{command:e}=t;if(e){const t=""+e;this.send(t)}}catch(t){this.__debug("<catastrophic error:triggershort> url",t)}this.$nextTick(()=>{this._scrollDown()})},data(){return{defaultAPIFlags:{max_tokens:20,temperature:.3,stop:"\n"},personaKey:"default",personas:Pt,activePersona:{},isSafari:/^((?!chrome|android).)*safari/i.test(navigator.userAgent),pos:0,userEntries:["what do you do for fun?","What's the most interesting fact in the world?","what's the biggest room in the universe"],transformgrpc:!0,rootHeight:0,headerHeight:0,footerHeight:0,greeting:"",rowActive:!1,modalStyle:{height:"100%",width:"100%"},codeActive:!1,settingsActive:!1,requestActive:!1,usermsg:"",client:Tt,session:"",loadSettingsFromStorage:!0,storageKey:"__STORAGE",thinking:!1,grpc:!0,darkmode:!1,animate:!0,showcharacters:!0,backend:Ot.backend,debugMode:!1,scrollToBottom:!0,triggerMessage:"",triggerShortcut:"",suggestions:It,permanentSuggestions:[],linkoutSuggestion:{},messages:[{author:"me",content:"Hello?",type:"text"},{author:"agent",content:"Hi there",type:"text"}]}},watch:{backend:{immediate:!0,handler:function(t){this.client.updateBackend(t)}},grpc(){},darkmode(t){const e=document.querySelector("body");t?e.classList.add("darkmode"):e.classList.remove("darkmode")}},computed:{chatHeight(){return this.footerHeight},myStyles(){return{paddingBottom:this.chatHeight+"px"}},modalAnimation(){return this.animate?"door":"na"},modalClass(){return this.darkmode?"darkmode":"lightmode"}},methods:{importPersonas(t={}){const{newPersonas:e}=t;if(t.newPersonas)for(let a in e){const t=e[a];this.$set(this.personas,a,t)}},updateAPIConfig(t){s["a"].set(this.activePersona,"APIFlags",t.APIFlags)},updatePersona(t){const{personaKey:e}=t;this.personaKey=e,this.activePersona=this.personas[this.personaKey],this.suggestions=It},removeSample({index:t}){this.activePersona.samples.splice(t,1)},editSample({sample:t,index:e}){this.activePersona.samples.splice(e,1,t)},addSample({sample:t}){this.activePersona.samples.push(t)},updateUserEntries(t){this.userEntries[this.userEntries.length-1]!==t&&(this.userEntries.push(t),this.pos=this.userEntries.length)},cycler(t){const e=this.userEntries,a=e.length,s=a-1,i=0;"up"===t&&(0===this.pos?this.pos=s:this.pos=this.pos-1),"down"===t&&(this.pos=this.pos+1,this.pos>a&&(this.pos=i)),a&&(this.usermsg=this.userEntries[this.pos])},_openLinkout(t){t&&(window.open(t,"_blank"),this.linkoutSuggestion={})},tapHandler(t){const{origin:e,data:a}=t;console.log(`No op-- decide on handler strategy, emit event or send to chat ${e} ${a}`),"string"===typeof a&&this.send(a)},grabFlags(){const t=new URLSearchParams(window.location.search),e=t.get("backend");e&&(this.backend=e);const a=t.get("triggermessage");a&&"string"===typeof a&&(this.triggerMessage=a);const s=t.get("triggershortcut")||"";s&&(this.triggerShortcut=s)},__debug(...t){this.debugMode&&console.log.apply(console,t)},addText(t,e="agent"){this.messages.push({timestamp:new Date,type:"text",author:e,content:t})},addComponent(t,e){if("suggestions"===t)return this.updateSuggestions(e.map(t=>t.title));this.messages.push({timestamp:new Date,type:t,author:"agent",content:e})},addSuggestion(t){t&&" "!=t&&!this.suggestions.includes(t)&&this.updateSuggestions([t])},updateSuggestions(t){const{permanentSuggestions:e}=this;this.suggestions=[...e,...t]},setHeights(){this.footerHeight=this.$refs.footerRef.clientHeight,this.headerHeight=this.$refs.headerRef.clientHeight,this.rootHeight=document.querySelector("#app").clientHeight},requestHandler(t){const{request:e}=t;e&&this.send(e)},_localSave(t,e){localStorage.setItem(t,JSON.stringify(e))},_localGet(t){t||(t=this.storageKey);const e=localStorage.getItem(t);return e?JSON.parse(e):e},saveDefaults(){const t={darkmode:!1,animate:!0,grpc:!0,showcharacters:!0,backend:this.backend,debugMode:!1,userEntries:[]};this._localSave(this.storageKey,t),this.loadSettings()},saveSettings(){const t={darkmode:this.darkmode,animate:this.animate,grpc:this.grpc,backend:this.backend,debugMode:this.debugMode,scrollToBottom:this.scrollToBottom,showcharacters:this.showcharacters,userEntries:this.userEntries};return this.settingsActive=!1,this._localSave(this.storageKey,t)},getSettings(){return this._localGet()},loadSettings(){const t=this.getSettings();if(t)for(let e in t){const a=t[e];this[e]=a}},suggest(t){if(t&&"string"===typeof t){this.send(t);const{permanentSuggestions:e}=this;this.suggestions=[...e]}},_scrollDown(){this.$nextTick(()=>{const t=document.querySelector("#app"),e=t.offsetTop+2*t.clientHeight;this.animate?setTimeout(()=>{window.scrollTo({top:e,behavior:"smooth"})},600):window.scrollTo({top:e})})},async send(t){if(!t)return;let e;"string"===typeof t&&""!==t&&" "!==t?(e=t,this.thinking=!0,this.usermsg="",this.addText(t,"me"),this.thinking=!0,this.scrollToBottom&&this._scrollDown(),this.updateUserEntries(t)):"text"===t.kind&&this.updateUserEntries(t),this.thinking=!0;let a={data:{}};try{const e={prompt:t,samples:this.activePersona.samples||[],prefix:this.activePersona.prefix,APIFlags:this.activePersona.APIFlags,opts:{}};a=await this.client.send(e)}catch(i){return this.addText(this.debugMode?i:"Whoops there was an issue, try that again?"),this.addSuggestion(e),this.scrollToBottom&&this._scrollDown(),void(this.thinking=!1)}const{text:s}=a.data;s?this.addText(s):this.addText("<Empty completion, try adding a priming statement or more examples>"),this.thinking=!1,this.scrollToBottom&&this._scrollDown()}}},Et=Nt,Bt=(a("034f"),Object(g["a"])(Et,i,n,!1,null,null,null)),Rt=Bt.exports,Ht=a("6018"),$t=a("1881"),jt=a.n($t);a("30fe"),a("cdad");s["a"].use(_t["f"]),s["a"].use(jt.a),s["a"].use(Ht["a"]),s["a"].config.productionTip=!1,new s["a"]({render:t=>t(Rt)}).$mount("#app")},"5a95":function(t,e,a){},"5f58":function(t,e,a){"use strict";var s=a("5a95"),i=a.n(s);i.a},"798b":function(t,e,a){},"7d93":function(t,e,a){},"85ec":function(t,e,a){},a60f:function(t,e,a){},a690:function(t,e,a){"use strict";var s=a("fac7"),i=a.n(s);i.a},c465:function(t,e,a){"use strict";var s=a("ca9a"),i=a.n(s);i.a},ca9a:function(t,e,a){},da43:function(t,e,a){},e2ce:function(t,e,a){"use strict";var s=a("054f"),i=a.n(s);i.a},f5bf:function(t,e,a){"use strict";var s=a("0d3c"),i=a.n(s);i.a},fa9f:function(t,e,a){"use strict";var s=a("a60f"),i=a.n(s);i.a},fac7:function(t,e,a){},fcac:function(t,e,a){"use strict";var s=a("da43"),i=a.n(s);i.a}});
//# sourceMappingURL=app.a25def55.js.map